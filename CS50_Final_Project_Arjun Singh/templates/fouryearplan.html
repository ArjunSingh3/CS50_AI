{% extends "layout.html" %}

{% block title %}
    4 Year Graduation Plan
{% endblock %}

{% block main %}
    <div class="container">
        <form action="/electrical" method = "POST">
            <b>ADD A COURSE</b>
            <table class="table table-striped table-hover table-warning">
                <thead>
                    <tr>
                        <th>
                            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="year" name="year" placeholder="Year" required type="number">
                        </th>
                        <th>
                            <select class="form-select mx-auto w-auto" name="term">
                                <option disable selected>Term</option>
                                {% for term in terms %}
                                    <option>{{term}}</option>
                                {% endfor %}
                            </select>
                        </th>
                    </tr>
                    <tr>
                        <th>
                            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="credit_hours" name="credit_hours" placeholder="Credit Hours" required type="number">
                        </th>
                        <th>
                            <input autocomplete="off" autofocus class="form-control mx-auto w-auto" id="course" name="course" placeholder="Course name" required type="text">
                        </th>
                    </tr>
                </thead>
        </table>

        <input type = "submit" value="Submit Course" class="btn btn-danger">
        </form>
        <div class ="row">
            <div class="column">
                <b>YEAR 1!</b>
                <!--first table-->
                <table class="table table-striped table-hover table-info">
                    <thead>
                        <tr>
                            <th>EE Fall Yr: {{start_year}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year and courses.term=="Fall"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Winter Yr: {{start_year+1}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+1 and courses.term=="Winter"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Spring Yr: {{start_year+1}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+1 and courses.term=="Spring"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Summer Yr: {{start_year+1}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+1 and courses.term=="Summer"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>


                </table>
            </div>
            <div class="column">
                <b>YEAR 2!</b>
                <!--second table and the outline of how all the tables need to be-->
                <table class="table table-striped table-hover table-info">
                    <thead>
                        <tr>
                            <th>EE Fall Yr: {{start_year+1}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+1 and courses.term=="Fall"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Winter Yr: {{ start_year+2}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+2 and courses.term=="Winter"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Spring Yr: {{start_year+2}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+2 and courses.term=="Spring"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>
                    <thead>
                        <tr>
                            <th> EE Summer Yr: {{start_year+2}}</th>
                            <th>Hours</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% set total_hours = namespace(found=0)%}
                        {% for courses in schedule%}
                            <tr>
                                {% if courses.year==start_year+2 and courses.term=="Summer"%}
                                    {% set total_hours.found= total_hours.found+courses.credit_hours%}
                                    <td>{{courses.course}}</td>
                                    <td>{{courses.credit_hours}}</td>
                                {% endif %}
                            </tr>
                        {% endfor%}
                        <th>
                            TOTAL HOURS
                            <td ><b>{{total_hours.found}}</b></td>
                        </th>
                    </tbody>

                </table>
            </div>
        </div>
    </div>
{% endblock %}